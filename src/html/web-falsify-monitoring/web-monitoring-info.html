@@include('../partial/head.html', {"title":"웹 모니터링 상세정보",
	"css": [
	'../assets/plugins/bootstrap-star-rating/css/star-rating.min.css',
	'../assets/plugins/bootstrap-star-rating/themes/krajee-fas/theme.min.css',

	'../assets/plugins/apexcharts/dist/apexcharts.css',

	'../assets/plugins/jquery-datetimepicker/jquery.datetimepicker.css',

	"../assets/plugins/datatables.net-bs5/css/dataTables.bootstrap5.min.css",
	"../assets/plugins/bootstrap-table/dist/bootstrap-table.min.css"

]})
	<script src="../assets/plugins/chart.js/dist/chart.js"/></script>

	<style>
		#doughnutChart, #doughnutChart2 {
			width: 104px !important;
			height: 104px !important;
		}

		.label-text {
			top: -2px;
		}
	</style>
	<!-- BEGIN #app -->
	<div id="app" class="app">
		@@include('../partial/header.html')
		
		@@include('../partial/sidebar.html', {"webFalsifyMonitoringClass": "active", "webMonitoringInfoClass": "active"})
		
		<!-- BEGIN #content -->
		<div id="content" class="app-content">
			<div class="d-flex align-items-center justify-content-between mb-2">
				<h4 class="mb-0">웹 모니터링 상세 정보</h4>
				<ul class="breadcrumb">
					<li class="breadcrumb-item"><a href="#">웹 위/변조 모니터링</a></li>
					<li class="breadcrumb-item active">웹 모니터링 상세 정보</li>
				</ul>
			</div>

			<div class="card">
				<section class="row p-4">
					<!-- 사이트 이미지 -->
					<article class="col-3">
						<h6 class="card-title me-2 mb-2">사이트 이미지</h6>
						<ul class="web-monitoring-info">
							<li>
								<div class="border-danger"></div>
								<h6>&lt;기존&gt;</h6>
							</li>
							<li>
								<div class="border-danger"></div>
								<h6>&lt;현재&gt;</h6>
							</li>
						</ul>
					</article>
					<!-- 사이트 Info -->
					<article class="col-3">
						<h6 class="card-title me-2 mb-2">사이트 Info</h6>
						<table class="table table-sm table-th-dark border border-radius" style="font-size: 12px;">
							<tbody>
								<tr>
									<th>사이트명</th>
									<td>ABC 마트</td>
								</tr>
								<tr>
									<th>URL</th>
									<td>https://www.a-rt.com/</td>
								</tr>
								<tr>
									<th>등록 일자</th>
									<td>2021-01-26 14:27:39</td>
								</tr>
								<tr>
									<th>업데이트 시간</th>
									<td>2022-06-23 15:55:35</td>
								</tr>
								<tr>
									<th>담당자 e-mail</th>
									<td>abc@abc.com</td>
								</tr>
								<tr>
									<th>담당자 h.p.</th>
									<td>010-0000-1234</td>
								</tr>
							</tbody>
						</table>
					</article>
					<!-- 분석 결과 -->
					<article class="col-3">
						<h6 class="card-title me-2 mb-2">분석 결과</h6>
						<table class="table table-sm table-th-dark border border-radius" style="font-size: 12px;">
							<tbody>
								<tr>
									<th>유사도</th>
									<td>
										<span class="badge bg-success">정상</span> (1.0)
									</td>
								</tr>
								<tr>
									<th>웹 위/변조</th>
									<td>
										<span class="badge bg-success">정상</span>
									</td>
								</tr>
								<tr>
									<th>URI 분석 결과</th>
									<td>
										<span class="badge bg-danger">악성</span>
									</td>
								</tr>
								<tr>
									<th>파일 분석 결과</th>
									<td>
										<span class="badge bg-danger">악성</span>
									</td>
								</tr>
							</tbody>
						</table>
					</article>
					<!-- AI 분석 예측 -->
					<article class="col-3">
						<h6 class="card-title me-2 mb-2">AI 분석 예측</h6>
						<ul class="d-flex">
							<li class="w-50">
								<div class="chart-ai-analisys position-relative d-flex justify-content-center">
									<canvas id="doughnutChart"></canvas>
									<div class="label-text">
										93.1
									</div>
								</div>
								<h6 class="text-center mb-0 mt-2">악성코드 유사도</h6>
								<!-- <canvas id="chart"></canvas> -->
							</li>
							<li class="w-50">
								<div class="chart-ai-analisys position-relative d-flex justify-content-center">
									<canvas id="doughnutChart2"></canvas>
									<div class="label-text">
										11
									</div>
								</div>
								<h6 class="text-center mb-0 mt-2">악성 URI 탐지 스코어</h6>
							</li>
						</ul>
						<table class="table table-sm table-th-dark border border-radius mt-3" style="font-size: 12px;">
							<tbody>
								<tr>
									<th>악성코드 유형</th>
									<td>Trojan, CnC..</td>
								</tr>
							</tbody>
						</table>
					</article>
				</section>

				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
			</div>

			<div class="card mt-4">
				<div class="section-alnalisys-log p-4">
					<div class="" id="">
						<article class="d-flex mb-4 justify-content-between align-items-center">
							<div class="d-flex align-items-center">
								<h6 class="card-title me-2 mb-0">웹 모니터링 (컨텐츠 정보)</h6>
								<button class="btn btn-sm btn-outline-theme">
									<span>총 123,213 건</span>
									<i class="fas fa-lg fa-fw me-2 fa-download"></i>
								</button>
							</div>

							<!-- BEGIN input-group -->
							<div class="col-6 d-flex fillter--serching-group">
								<div class="flex-fill position-relative">
									<from class="input-group">
										<input id="searchVal" name="searchTag" type="text" class="form-control px-35px" placeholder="Filter orders" onkeydown="search(this)"/>
										<div class="input-group-text position-absolute top-0 bottom-0 bg-none border-0 start-0" style="z-index: 1020;">
											<i class="fa fa-search opacity-5"></i>
										</div>
									</from>
								</div>
								<div class="buttons-toolbar"></div>
								<button
									id="fillterBtn" 
									class="btn btn btn-outline-default rounded-0 flex-shrink-0" 
									type="button" 
									style="border-right: 0;">
										<i class="bi bi-funnel"></i> 필터
								</button>
								<button 
									class="btn btn-outline-default rounded-0 px-4 flex-shrink-0" type="button" 
									onclick="search(this)">
										검색
								</button>
							</div>
							<!-- END input-group -->
						</article>

						<!-- result seach tag div -->
						<div id="searching_tag" class="d-flex flex-wrap"></div>
						
						<!-- BEGIN table -->
						<div class="table-responsive">
							<table id="table"
								data-toggle="table"
								data-classes="table table-sm text-nowrap fs-12px"
								data-sort-class="table-active"
								data-sortable="true"
								data-pagination="true"
								data-show-refresh="true"
								data-show-columns="true"
								data-buttons-toolbar=".buttons-toolbar">
								<thead>
									<tr>
										<th>시간</th>
										<th>사이트</th>
										<th>설명</th>
										<th>분석 결과</th>
										<th>AI 분석 결과</th>
										<th>관리</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td class="w-10px align-middle">
											2021-11-17 <br>
											10:01:22
										</td>
										<td class="align-middle">
											ABC 마트<br>
											(192.168.1.96:8443)
										</td>
										<td class="align-middle">
											<ul>
												<li>
													분석 대상(File) : 
													<span class="text-success">테스트 파일2.docx</span>
												</li>
												<li>서버IP : 183.111.131.36:80 (  KR )</li>
												<li>URL : <a href="#">https://www.a-rt.com/</a></li>
											</ul>
										</td>
										<td class="align-middle">
											평판 분석 :
											<span class="badge bg-success px-2 pt-5px pb-5px rounded fs-12px d-inline-flex align-items-center">
												정상
											</span>
										</td>
										<td class="align-middle">
											10.113
										</td>
										<td class="py-1 align-middle">
											상태 : <span class="text-success">정상</span><br>
											예외 설정 : <span class="badge bg-success">예외 적용</span>
										</td>
									</tr>
									<tr>
										<td class="w-10px align-middle">
											2021-11-17 <br>
											10:01:22
										</td>
										<td class="align-middle">
											ABC 마트<br>
											(192.168.1.96:8443)
										</td>
										<td class="align-middle">
											<ul>
												<li>
													분석 대상(File) : 
													<span class="text-danger">테스트 파일2.docx</span>
												</li>
												<li>서버IP : 183.111.131.36:80 (  KR )</li>
												<li>URL : <a href="#">https://www.a-rt.com/</a></li>
											</ul>
										</td>
										<td class="align-middle">
											평판 분석 :
											<span class="badge bg-danger px-2 pt-5px pb-5px rounded fs-12px d-inline-flex align-items-center">
												악성
											</span>
										</td>
										<td class="py-1 align-middle">
											13.813
										</td>
										<td class="py-1 align-middle">
											상태 : <span class="text-danger">예외</span><br>
											예외 설정 : <span class="badge bg-danger">예외 취소</span>
										</td>
									</tr>
									<tr>
										<td class="w-10px align-middle">
											2021-11-17 <br>
											10:01:22
										</td>
										<td class="align-middle">
											ABC 마트<br>
											(192.168.1.96:8443)
										</td>
										<td class="align-middle">
											<ul>
												<li>
													분석 대상(File) : 
													<span class="text-success">테스트 파일2.docx</span>
												</li>
												<li>MD5 : 3b8b01cd9807800da72400a6a03a831b</li>
												<li>파일 크기 : 40.9 MB  (42,902,920 byte)</li>
												<li>행위 분석 완료 시간 : 2022-05-24 12:25:54 (43초)</li>
												<li>AI 분석 완료 시간 :    2022-05-24 12:27:54 (120초)</li>
												<li>서버IP : 183.111.131.36:80 (  KR )</li>
												<li>총 분석 시간 : 163 초</li>
											</ul>
										</td>
										<td class="align-middle">
											<ul>
												<li>
													AV 분석 :
													<span class="badge bg-success px-2 pt-5px pb-5px rounded fs-12px d-inline-flex align-items-center">
														정상
													</span>
												</li>
												<li class="d-flex align-items-center">
													정적 분석 : 
													<input 
													id="input-1-ltr-star-xs" 
													name="input-1-ltr-star-xs" 
													class="kv-ltr-theme-fas-star rating-loading" 
													value="3" 
													dir="ltr" 
													data-size="xs" />
												</li>
												<li class="d-flex align-items-center">
													동적 분석 : 
													<input 
													id="input-1-ltr-star-xs" 
													name="input-1-ltr-star-xs" 
													class="kv-ltr-theme-fas-star rating-loading" 
													value="3" 
													dir="ltr" 
													data-size="xs" />
												</li>
												<li>
													평판 분석 :
													<span class="text-success">0/76</span>
												</li>
												<li>
													분석 결과 : 
													<span class="badge bg-success px-2 pt-5px pb-5px rounded fs-12px d-inline-flex align-items-center">
														정상
													</span>
												</li>
											</ul>
										</td>
										<td class="align-middle">
											10.113
										</td>
										<td class="py-1 align-middle">
											상태: <span class="text-success">정상</span> <br>
											예외 설정 :
											<span class="badge bg-success">
												예외 적용
											</span> <br>
											다운로드 :
											<span class="badge bg-primary">
												다운 로드
											</span>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					
						<!-- END table -->
					
					</div>
				</div>
				
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>

			</div>

		</div>
		
		<!-- END #content -->
		
		@@include('../partial/scroll-top-btn.html')
	
		<!-- BEGIN 조건 검색 panel -->
		<div class="app-theme-panel">
			<div class="app-theme-panel-container">
				<div class="app-theme-panel-content">
					<div class="small fw-bold text-white mb-1 d-flex justify-content-between px-2 align-items-center">
						<span>Fillter</span>
						<button class="btn btn-sm" data-toggle="theme-panel-expand"><i class="bi bi-x"></i></button>
					</div>
					<div class="card mb-3">
						<!-- BEGIN card-body -->
						<div class="card-body p-2">
							<article id="content-filltering" class="content-filltering p-2 px-3 show" aria-labelledby="fillterBtn">
								<div class="row">
									<label for="">조건 검색</label>
									<div class="col-6">
										<!-- 전체 분류 -->
										<div class="form-group mb-0">
											<select id="def2" class="form-select">
												<option value="전체" selected="">전체</option>
												<option value="">정상</option>
												<option value="">악성</option>
											</select>
										</div>
									</div>

									<div class="col-6">
										<!-- 분류 -->
										<div class="form-group mb-0">
											<select class="form-select">
												<option selected="selected" value="">사이트</option>
												<option value="">IP</option>
												<option value="">Port</option>
												<option value="">설명</option>
												<option value="">분석 결과</option>
												<option value="">AI 분석 결과</option>
												<option value="">공격 유형</option>
											</select>
										</div>
									</div>
								</div>
								<!-- 날짜 설정 -->
								<div class="row">
									<div class="col-12">
										<div class="form-group mt-2 mb-0">
											<label for="">날짜 설정 :</label>
											<div class="input-group input-daterange" id="">
												<input id="date_timepicker_start" type="text" class="form-control" placeholder="시작 날짜" />
												<span class="input-group-text">to</span>
												<input id="date_timepicker_end" type="text" class="form-control" placeholder="끝 날짜" />
											</div>
										</div>
									</div>
								</div>

								<!-- 수집 사이트 선택 -->
								<div class="row mt-2">
									<div class="col-6">
										<div class="form-group mb-0">
											<label for="">수집 사이트 선택</label>
											<select class="form-select">
												<option value="" selected="">def</option>
											</select>
										</div>
									</div>
								</div><!-- end-of-row -->

								<!-- 검색창 -->
								<div class="mt-2">
									<label for="">검색 :</label>
									<div class="d-flex">
										<div class="input-group">
											<input id="fillterVal" type="text" name="searchTag" class="form-control px-35px" placeholder="Filter orders" onkeydown="search(this)">
											<div class="input-group-text position-absolute top-0 bottom-0 bg-none border-0 start-0" style="z-index: 1020;">
												<i class="fa fa-search opacity-5"></i>
											</div>
										</div>
										
										<button 
											class="btn btn-outline-default rounded-0 px-4 flex-shrink-0" 
											type="button" 
											onclick="search(this)">
												검색
										</button>

										<button 
											class="btn btn-outline-default rounded-0 px-4 flex-shrink-0" 
											type="button" 
											onclick=""
											data-bs-toggle="collapse" data-bs-target="#addingSearch">
												검색어 추가
										</button>
										
									</div>
								</div>

								<!-- 검색어 추가 -->
								<div class="mt-2 collapse" id="addingSearch">
									<label for="">검색어 추가 :</label>
									<div class="d-flex">
										<!-- and & or -->
										<div class="flex-shrink-0">
											<select id="conjunction" class="form-select" name="conjunction">   
												<option value="and">AND</option>   
												<option value="or">OR</option>
											</select>
										</div>
										<div class="flex-shrink-0 mx-2 col-2">
											<!-- 분류 -->
											<select class="form-select">
												<option selected="selected" value="">사이트</option>
												<option value="">IP</option>
												<option value="">Port</option>
												<option value="">설명</option>
												<option value="">분석 결과</option>
												<option value="">AI 분석 결과</option>
												<option value="">공격 유형</option>
											</select>
										</div>

										<!-- 검색창 -->
										<div class="input-group">
											<input id="addSearchTag" type="text" name="addSearchTag" class="form-control px-35px" placeholder="Filter orders" onkeydown="addSearch(this)">
											<div class="input-group-text position-absolute top-0 bottom-0 bg-none border-0 start-0" style="z-index: 1020;">
												<i class="fa fa-search opacity-5"></i>
											</div>
										</div>
				
										<!-- 검색 버튼 -->
										<button 
											class="btn btn-outline-default rounded-0 px-4 flex-shrink-0" 
											type="button" 
											onclick="addSearch(this)">
												검색
										</button>
									</div>
								</div>
							</article>															
							<!-- END theme-list -->
						</div>
						<!-- END card-body -->
						
						<!-- BEGIN card-arrow -->
						<div class="card-arrow" style="z-index: 0;">
							<div class="card-arrow-top-left"></div>
							<div class="card-arrow-top-right"></div>
							<div class="card-arrow-bottom-left"></div>
							<div class="card-arrow-bottom-right"></div>
						</div>
						<!-- END card-arrow -->
					</div>
				
				</div>
			</div>
		</div>
		<!-- END 조건 검색 panel -->

	</div>
	<!-- END #app -->
	@@include('../partial/script.html', {"script": [

		'../assets/plugins/bootstrap-star-rating/js/star-rating.min.js',
		'../assets/plugins/bootstrap-star-rating/themes/krajee-fas/theme.min.js',

		'../assets/plugins/jquery-datetimepicker/build/jquery.datetimepicker.full.js',
		
		"../assets/plugins/datatables.net/js/jquery.dataTables.min.js",
		"../assets/plugins/datatables.net-bs5/js/dataTables.bootstrap5.min.js",
		"../assets/plugins/bootstrap-table/dist/bootstrap-table.min.js",
		
		"../assets/plugins/bootstrap-table/dist/extensions/export/bootstrap-table-export.js",
		"../assets/plugins/bootstrap-table/dist/extensions/auto-refresh/bootstrap-table-auto-refresh.js",
		
		'../assets/js/demo/common.demo.js',
		'../assets/js/pages/log/analisys-log.js',
	]})

	<script>
		
		//AI 분석 예측 결과 - 유사도, 스코어 - chart.js
		const ctx = document.getElementById('doughnutChart');
		const ctx2 = document.getElementById('doughnutChart2');

		// chart1 and chart2 use "plugin"
		const chart1 = new Chart(ctx, {
			type: 'doughnut',
			data: {
				// labels: ['Total Visitor'],
				datasets: [{
					data: [90,100],
					backgroundColor: [app.color.theme, app.color.white, app.color.gray900],
					hoverBackgroundColor: [app.color.theme, app.color.white, app.color.gray900],
					borderWidth: 0,
				}]
			}
		});

		const chart2 = new Chart(ctx2, {
			type: 'doughnut',
			data: {
				// labels: ['Total Visitor'],
				datasets: [{
					data: [90,100],
					backgroundColor: [app.color.theme, app.color.white, app.color.gray900],
					hoverBackgroundColor: [app.color.theme, app.color.white, app.color.gray900],
					borderWidth: 0,
				}]
			}
		});
	</script>
	